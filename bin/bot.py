# -*- coding: utf-8 -*-
"""選課bot.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1pr8ye4_v-AzXxsZE-uNE3ouS6ESoi2yD
"""

#文字處理

import re

response = """很抱歉，作為語言模型，我無法提供特定大學的課程名稱列表。不同大學和學院可能有不同的課程安排和課程名稱。然而，我可以提供一些常見的軟體工程相關課程，供您參考：

1. 程式設計：學習程式設計的基礎，包括控制流程、資料型別、函式等。

2. 資料結構和演算法：學習常見的資料結構（例如陣列、串列、樹等）和演算法，以解決實際問題。

3. 軟體工程導論：介紹軟體工程的基本原則、流程和方法論，包括需求分析、系統設計、測試和維護等。

4. 資料庫系統：學習關聯式資料庫的設計和操作，以及使用SQL進行資料庫查詢和管理。

5. 軟體架構和設計模式：學習如何設計和構建可靠、可擴展和可維護的軟體系統，以及常見的軟體設計模式。

6. 軟體測試和驗證：學習測試策略和技術，以確保軟體的品質和正確性。

7. 軟體專案管理：了解軟體專案的管理原則和實務，包括項目規劃、進度追蹤和團隊協作。

請注意，實際的課程名稱和內容可能因大學和學院的不同而有所變化。建議您查閱目標大學的課程目錄或聯繫相關的學術顧問以獲取更具體和準確的資訊。"""

# 從response提取數字加句點開頭並以冒號結尾的課程名稱到gptclass
pattern = r"\d+\.\s*(.*?)："
gptclass = re.findall(pattern, response)

print(gptclass)

#主程式

import openai

# 設定 ChatGPT 的 API 金鑰
openai.api_key = ''

def query_skills(query):
    # 使用 ChatGPT 查詢技能
    response = openai.Completion.create(
        engine='text-davinci-003',
        prompt=f"我想學習{query}，我可以在大學上什麼課？",
        max_tokens=50,
        n=1,
        stop=None,
        temperature=0.7
    )
    
    # 從回應中提取技能
    # 從response提取數字加句點開頭並以冒號結尾的課程名稱到gptclass
    pattern = r"\d+\.\s*(.*?)："
    gptclass = re.findall(pattern, response)
    
    return gptclass


# 使用者輸入要學的項目
user_query = input("你想學什麼？ ")

# 查詢技能
skills = query_skills(user_query)

# 印出技能
print("所需技能：")
for skill in skills:
    print(skill)